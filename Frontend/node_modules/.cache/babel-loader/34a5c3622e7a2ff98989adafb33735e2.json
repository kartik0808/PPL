{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar canUseDOM = function () {\n  return typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\n};\n\nvar DisableScroll =\n/** @class */\nfunction () {\n  function DisableScroll() {\n    var _this = this;\n\n    this.handleWheel = function (e) {\n      e.preventDefault();\n    };\n\n    this.handleScroll = function () {\n      window.scrollTo.apply(window, _this.lockToScrollPos);\n    };\n\n    this.handleKeydown = function (e) {\n      var keys = _this.options.keyboardKeys;\n      /* istanbul ignore else */\n\n      if (['INPUT', 'TEXTAREA'].includes(e.target.tagName)) {\n        keys = keys.filter(function (key) {\n          return !_this.options.authorizedInInputs.includes(key);\n        });\n      }\n      /* istanbul ignore else */\n\n\n      if (keys.includes(e.keyCode)) {\n        e.preventDefault();\n      }\n    };\n\n    this.element = null;\n    this.lockToScrollPos = [0, 0];\n    this.options = {\n      authorizedInInputs: [32, 37, 38, 39, 40],\n      disableKeys: true,\n      disableScroll: true,\n      disableWheel: true,\n      keyboardKeys: [32, 33, 34, 35, 36, 37, 38, 39, 40]\n    };\n    /* istanbul ignore else */\n\n    if (canUseDOM()) {\n      this.element = document.scrollingElement;\n    }\n  }\n  /**\n   * Disable Page Scroll\n   */\n\n\n  DisableScroll.prototype.on = function (element, options) {\n    var _a, _b, _c, _d;\n\n    if (!canUseDOM()) return;\n    this.element = element || this.element;\n    this.options = __assign(__assign({}, this.options), options);\n    var _e = this.options,\n        disableKeys = _e.disableKeys,\n        disableScroll = _e.disableScroll,\n        disableWheel = _e.disableWheel;\n    /* istanbul ignore else */\n\n    if (disableWheel) {\n      document.addEventListener('wheel', this.handleWheel, {\n        passive: false\n      });\n      document.addEventListener('touchmove', this.handleWheel, {\n        passive: false\n      });\n    }\n    /* istanbul ignore else */\n\n\n    if (disableScroll) {\n      this.lockToScrollPos = [(_b = (_a = this.element) === null || _a === void 0 ? void 0 : _a.scrollLeft) !== null && _b !== void 0 ? _b : 0, (_d = (_c = this.element) === null || _c === void 0 ? void 0 : _c.scrollTop) !== null && _d !== void 0 ? _d : 0];\n      document.addEventListener('scroll', this.handleScroll, {\n        passive: false\n      });\n    }\n    /* istanbul ignore else */\n\n\n    if (disableKeys) {\n      document.addEventListener('keydown', this.handleKeydown, {\n        passive: false\n      });\n    }\n  };\n  /**\n   * Re-enable page scrolls\n   */\n\n\n  DisableScroll.prototype.off = function () {\n    if (!canUseDOM()) return;\n    document.removeEventListener('wheel', this.handleWheel);\n    document.removeEventListener('touchmove', this.handleWheel);\n    document.removeEventListener('scroll', this.handleScroll);\n    document.removeEventListener('keydown', this.handleKeydown);\n  };\n\n  return DisableScroll;\n}();\n\nexport default new DisableScroll();","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar canUseDOM = function () {\n    return typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\n};\nvar DisableScroll = /** @class */ (function () {\n    function DisableScroll() {\n        var _this = this;\n        this.handleWheel = function (e) {\n            e.preventDefault();\n        };\n        this.handleScroll = function () {\n            window.scrollTo.apply(window, _this.lockToScrollPos);\n        };\n        this.handleKeydown = function (e) {\n            var keys = _this.options.keyboardKeys;\n            /* istanbul ignore else */\n            if (['INPUT', 'TEXTAREA'].includes(e.target.tagName)) {\n                keys = keys.filter(function (key) { return !_this.options.authorizedInInputs.includes(key); });\n            }\n            /* istanbul ignore else */\n            if (keys.includes(e.keyCode)) {\n                e.preventDefault();\n            }\n        };\n        this.element = null;\n        this.lockToScrollPos = [0, 0];\n        this.options = {\n            authorizedInInputs: [32, 37, 38, 39, 40],\n            disableKeys: true,\n            disableScroll: true,\n            disableWheel: true,\n            keyboardKeys: [32, 33, 34, 35, 36, 37, 38, 39, 40],\n        };\n        /* istanbul ignore else */\n        if (canUseDOM()) {\n            this.element = document.scrollingElement;\n        }\n    }\n    /**\n     * Disable Page Scroll\n     */\n    DisableScroll.prototype.on = function (element, options) {\n        var _a, _b, _c, _d;\n        if (!canUseDOM())\n            return;\n        this.element = element || this.element;\n        this.options = __assign(__assign({}, this.options), options);\n        var _e = this.options, disableKeys = _e.disableKeys, disableScroll = _e.disableScroll, disableWheel = _e.disableWheel;\n        /* istanbul ignore else */\n        if (disableWheel) {\n            document.addEventListener('wheel', this.handleWheel, { passive: false });\n            document.addEventListener('touchmove', this.handleWheel, { passive: false });\n        }\n        /* istanbul ignore else */\n        if (disableScroll) {\n            this.lockToScrollPos = [(_b = (_a = this.element) === null || _a === void 0 ? void 0 : _a.scrollLeft) !== null && _b !== void 0 ? _b : 0, (_d = (_c = this.element) === null || _c === void 0 ? void 0 : _c.scrollTop) !== null && _d !== void 0 ? _d : 0];\n            document.addEventListener('scroll', this.handleScroll, { passive: false });\n        }\n        /* istanbul ignore else */\n        if (disableKeys) {\n            document.addEventListener('keydown', this.handleKeydown, { passive: false });\n        }\n    };\n    /**\n     * Re-enable page scrolls\n     */\n    DisableScroll.prototype.off = function () {\n        if (!canUseDOM())\n            return;\n        document.removeEventListener('wheel', this.handleWheel);\n        document.removeEventListener('touchmove', this.handleWheel);\n        document.removeEventListener('scroll', this.handleScroll);\n        document.removeEventListener('keydown', this.handleKeydown);\n    };\n    return DisableScroll;\n}());\nexport default new DisableScroll();\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}